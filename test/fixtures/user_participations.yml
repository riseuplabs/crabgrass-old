<%##############################################################################
################################################################################

    NOTE!!! IF YOU MODIFY THIS FILE, YOU NEED TO THEN RUN THIS

    rake db:fixtures:load
    rake cg:update_page_terms
    rake cg:update_fixtures
    rake db:test:prepare

    this will update the autogenerated page_terms.yml fixture.

################################################################################
##############################################################################%>

<%
# it is no end of trouble that the fixtures keep changing!
# so i am going to seed the random number generator here,
# and then things will randomly be the same every time we test
srand(314159265359)
%>

<% id = 1 %>
<% for i in 2..100 %>
  <% people = (1..13).to_a.sort{rand(2)} %>
  # each page has 1 to 5 people
  <% for j in 1..(rand(5)+1) %>
userpage_<%=i%>_<%=j%>:
  id: <%= id+=1 %>
  page_id: <%= i %>
  user_id: <%= people.pop %>
  access: <%= rand(2)+1 %>
  viewed: <%= rand(2) %>
  resolved: <%= rand(2) %>
  inbox: <%= rand(5) == 0 %>
  <% rand(4) == 0 %>
  changed_at: <%= rand(1000).minutes.ago.to_s(:db) %>
  <% end %>
<% end %>

blue_page1:
  id: <%= id+=1 %>
  page_id: 1
  user_id: 4
  access: 1
red_page1:
  id: <%= id+=1 %>
  page_id: 1
  user_id: 8
  access: 1
#red_page2:
#  id: <%= id+=1 %>
#  page_id: 2
#  user_id: 8
#  access: 1
red_page3:
  id: <%= id+=1 %>
  page_id: 3
  user_id: 8
  access: 1
tasklist11:
  id: <%= id+=1 %>
  page_id: 200
  user_id: 1
  access: 1
tasklist21:
  id: <%= id+=1 %>
  page_id: 201
  user_id: 11
  access: 1
tasklist14:
  id: <%= id+=1 %>
  page_id: 200
  user_id: 4
  access: 1
tasklist24:
  id: <%= id+=1 %>
  page_id: 201
  user_id: 4
  access: 1
ranked_vote_orange:
  id: <%= id+=1 %>
  page_id: 190
  user_id: 5
  access: 1
deleted_blue:
  id: <%= id+=1 %>
  page_id: 207
  user_id: 4
  access: 1
deleted_orange:
  id: <%= id+=1 %>
  page_id: 207
  user_id: 5
  access: 3
wiki_orange:
  id: <%= id+=1 %>
  page_id: 210
  user_id: 5
  access: 1
wiki_red:
  id: <%= id+=1 %>
  page_id: 210
  user_id: 8
  access: 1
wiki_blue:
  id: <%= id+=1 %>
  page_id: 210
  user_id: 4
  access: 1
message_gerrard:
  id: <%= id+=1 %>
  page_id: 220
  user_id: 3
  access: 1
message_blue:
  id: <%= id+=1 %>
  page_id: 220
  user_id: 4
  access: 1
malformed_wiki_orange:
  id: <%= id+=1 %>
  page_id: 230
  user_id: 5
  access: 1
malformed_wiki_orange:
  id: <%= id+=1 %>
  page_id: 230
  user_id: 5
  access: 1
multi_section_wiki_blue:
  id: <%= id+=1 %>
  page_id: 240
  user_id: 4
  access: 1
multi_section_wiki_gerrard:
  id: <%= id+=1 %>
  page_id: 240
  user_id: 3
  access: 1
video1_gerrard:
  id: <%= id+=1 %>
  page_id: 250
  user_id: 3
  access: 1
survey_blank_blue:
  id: <%= id+=1 %>
  page_id: 215
  user_id: 4
  access: 1
survey_blank_dolphin:
  id: <%= id+=1 %>
  page_id: 215
  user_id: 11
  access: 2
<% 1.upto(5) do |i| %>
survey_ipsum_<%= id+=1 %>:
  id: <%= id %>
  page_id: 214
  user_id: <%= i %>
  access: 1
<% end %>
<% 10.upto(13) do |i| %>
survey_ipsum_<%= id+=1 %>:
  id: <%= id %>
  page_id: 214
  user_id: <%= i %>
  access: 2
<% end %>

rate_many_<%= id+=1 %>:
  id: <%= id %>
  page_id: 217
  user_id: 5 # orange
  access: 1

rate_many_<%= id+=1 %>:
  id: <%= id %>
  page_id: 217
  user_id: 8 # red
  access: 2